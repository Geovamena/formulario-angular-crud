<form [formGroup]="formUser">
    <div class="form-group">
      <label for="exampleFormControlInput1">Nombre Completo</label>
      <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Tu nombre" formControlName="name">
      <div class="alert alert-danger"  *ngIf="name.invalid && (name.dirty || name.touched)">
        <div *ngIf="name.errors.required">
          ¡El nombre completo es requerido!
        </div>
        <div *ngIf="name.errors.pattern">
          Tu nombre debe contener únicamente letras
        </div>
      </div>
    </div>

    <div class="form-group">
        <label for="exampleFormControlInput1">Edad</label>
        <input type="number" class="form-control" id="exampleFormControlInput1" placeholder="Edad" formControlName="age">
        <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)">
            <div class="alert alert-danger" *ngIf="lastName.errors.required">
                ¡La edad es requerida!
            </div>
            <div class="alert alert-danger" *ngIf="lastName.errors.pattern">
                Tu edad debe contener únicamente numeros
            </div>
        </div>
    </div>

    <div class="form-group">
        <label for="exampleFormControlInput1">Fecha de nacimiento</label>
        <input type="date" class="form-control" id="exampleFormControlInput1" placeholder="Tu fecha de nacimiento" formControlName="date">
        <div  *ngIf="email.invalid && (email.dirty || email.touched)">
            <div class="alert alert-danger" *ngIf="email.errors.required">
                ¡La fecha de nacimiento es requerdio!
            </div>
            <div class="alert alert-danger" *ngIf="email.errors.pattern">
                Debes introducir una fecha v@lido
            </div>
        </div>
    </div>

    <div class="form-group">
        <label for="exampleFormControlInput1">Fecha de inscripcion</label>
        <input type="date" class="form-control" id="exampleFormControlInput1" placeholder="Fecha de inscripcion" formControlName="date">
        <div  *ngIf="github.invalid && (github.dirty || github.touched)">
            <div class="alert alert-danger" *ngIf="github.errors.required">
                !La fecha de inscripcion es requerido¡
            </div>
        </div>
    </div>

    <div class="form-group">
        <label for="exampleFormControlInput1">Costo</label>
        <input type="number" class="form-control" id="exampleFormControlInput1" placeholder="Costo" formControlName="cost">
        <div  *ngIf="costo.invalid && (costo.dirty || costo.touched)">
            <div class="alert alert-danger" *ngIf="costo.errors.required">
                !El costo es requerido¡
            </div>
        </div>
    </div>
    
    <button class="btn btn-success right" [disabled]="formUser.invalid" (click)="addUser()">Mostrar en tabla</button>
    <button class="btn btn-warning" (click)="cleanForm(1)">Limpiar formulario</button>
</form>

<!--
  
-->
<table class="table">
    <thead class="thead-light">
      <tr>
        <th scope="col">#</th>
        <th scope="col">Nombre Completo</th>
        <th scope="col">Edad</th>
        <th scope="col">Costo</th>
        <th scope="col" class="col-center">Modificar/Eliminar</th>
      </tr>
    </thead>
    <tbody *ngFor="let user of users">
      <tr>
        <th scope="row">{{user.id}}</th>
        <td>{{user.name}}</td>
        <td>{{user.age}}</td>
        <td>{{user.cost}}</td>
        <td class="icons">
          <span class="material-icons" id="icon-left"  (click)="openModal(updateModal, user)">
            create
          </span>
          <span class="material-icons" id="icon-right" (click)="deleteUser(user.id)">
            delete_forever
          </span>
        </td>
      </tr>
    </tbody>
</table>

<ng-template #updateModal>
  <div class="modal-header">
    <h5 class="modal-title" id="exampleModalLabel">Modifiación de datos</h5>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true" (click)="modalRef.hide()">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form [formGroup]="formUserUpdate">
      <div class="form-group">
        <label for="exampleFormControlInput1" class="letter-black">Nombre Completo</label>
        <input type="text" class="form-control" id="exampleFormControlInput1" placeholder="Tu nombre" formControlName="name">
        <div class="alert alert-danger"  *ngIf="name.invalid && (name.dirty || name.touched)">
          <div *ngIf="name.errors.required">
            ¡El nombre es requerido!
          </div>
          <div *ngIf="name.errors.pattern">
            Tu nombre debe contener únicamente letras
          </div>
        </div>
      </div>

      <div class="form-group">
          <label for="exampleFormControlInput1" class="letter-black">Edad</label>
          <input type="number" class="form-control" id="exampleFormControlInput1" placeholder="Tu apellido" formControlName="age">
          <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)">
              <div class="alert alert-danger" *ngIf="lastName.errors.required">
                  ¡La edad es requerido!
              </div>
              <div class="alert alert-danger" *ngIf="lastName.errors.pattern">
                  Tu edad debe contener únicamente numeros
              </div>
          </div>
      </div>

      <div class="form-group">
          <label for="exampleFormControlInput1" class="letter-black">Fecha de nacimiento</label>
          <input type="date" class="form-control" id="exampleFormControlInput1" placeholder="Fecha de nacimiento" formControlName="date">
          <div  *ngIf="email.invalid && (email.dirty || email.touched)">
              <div class="alert alert-danger" *ngIf="email.errors.required">
                  ¡Fecha de nacimientoes requerida!
              </div>
              <div class="alert alert-danger" *ngIf="email.errors.pattern">
                  Debes introducir una fecha v@lido
              </div>
          </div>
      </div>

      <div class="form-group">
          <label for="exampleFormControlInput1" class="letter-black">Fecha de inscripcion</label>
          <input type="number" class="form-control" id="exampleFormControlInput1" placeholder="Fecha de inscripcion" formControlName="date">
          <div  *ngIf="github.invalid && (github.dirty || github.touched)">
              <div class="alert alert-danger" *ngIf="github.errors.required">
                  !La fecha de inscripcion es requerida¡
              </div>
          </div>
      </div>
      
      <div class="form-group">
          <label for="exampleFormControlInput1" class="letter-black">Costo</label>
          <input type="number" class="form-control" id="exampleFormControlInput1" placeholder="costo" formControlName="cost">
          <div  *ngIf="github.invalid && (github.dirty || github.touched)">
              <div class="alert alert-danger" *ngIf="github.errors.required">
                  !El costo es requerido¡
              </div>
          </div>
      </div>

    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-success" [disabled]="formUserUpdate.invalid" (click)="modalRef.hide()" (click)="updateUser(formUserUpdate.value)">Actualizar datos</button>
    <button type="button" class="btn btn-warning" data-dismiss="modal" (click)="cleanForm(2)">Limpiar Formularios</button>
  </div>
</ng-template>